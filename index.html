<!DOCTYPE html>
<html>
  <head>
    <link
      type="text/css"
      rel="stylesheet"
      href="https://patriciogonzalezvivo.github.io/glslEditor/build/glslEditor.css"
    />
    <script
      type="application/javascript"
      src="https://patriciogonzalezvivo.github.io/glslEditor/build/glslEditor.js"
    ></script>
  </head>
  <body>
    <div id="glsl_editor"></div>
    <script type="text/javascript">
      const FRAG_PLACEHOLDER = `
// https://gist.github.com/dzil123/ade1e4095fcd592488b722afb41c4a6c

#ifdef GL_ES
precision mediump float;
#endif

// uniform variables are the same across all pixels for a given frame
uniform vec2 u_resolution;  // int pixel coordinates
uniform vec2 u_mouse;       // int pixel coordinates
uniform float u_time;       // seconds

// implicit variables:
// in  vec4 gl_FragCoord  pixel coordinates
// out vec4 gl_FragColor  the color 'returned' from main()


// called once per pixel
void main() {
    vec2 st = gl_FragCoord.xy / u_resolution.xy;  // normalized coordinates, 0.0 - 1.0

    vec3 color = vec3(0.0);

    // color = vec3(0.0, 0.7, 1.0);
    // color = vec3(st, 0.0);

    gl_FragColor = vec4(color, 1.0);
}
`;

      const size = (new URLSearchParams(window.location.search)).get("size");

      const glslEditor = new GlslEditor("#glsl_editor", {
        canvas_size: +size || 500,
        canvas_draggable: true,
        theme: "monokai",
        frag: FRAG_PLACEHOLDER,
      });
    </script>
  </body>
</html>
